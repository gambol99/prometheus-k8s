#
#   Author: Rohith
#   Date: 2015-07-18 20:28:44 +0100 (Sat, 18 Jul 2015)
#
#  vim:ts=2:sw=2:et
#
---
apiVersion: v1
kind: ReplicationController
metadata:
  name: database
spec:
  replicas: 1
  selector:
    name: grafana
  template:
    metadata:
      labels:
        name: database
      annontations:
        metrics: |
          - name: collectd
            port: 8001
          - name: statsd
            port: 8002
          - name: collect-apache
            port: 8003
    spec:
      containers:
      - name: mysql
        image: tutum/mysql
        ports:
        - containerPort: 3306
        - containerPort: 8003
      - name: collectd
        image: gambol99/prometheus-collectd
        ports:
        - containerPort: 8001
      - name: statsd
        image: gambol99/prometheus-statsd
        ports:
        - containerPort: 8125
